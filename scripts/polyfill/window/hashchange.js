// https://github.com/kbjr/polyfill.js/blob/master/client/polyfills/hashchange.js
!function(){window.HashChangeEvent=function(){var a=function(a,b){this.oldURL=a,this.newURL=b,this.timeStamp=(new Date).getTime()};return a.prototype={bubbles:!1,cancelable:!1,currentTarget:null,defaultPrevented:!1,returnValue:!0,srcElement:null,target:null,timeStamp:null,type:"hashchange"},a}();var a={listeners:{funcs:[],remove:function(b){for(var c=[],d=0,e=a.listeners.funcs.length;e>d;d++)a.listeners.funcs[d]!==b&&c.push(a.listeners.funcs[d]);a.listeners.funcs=c}},init:function(){if(a.lastHash=a.getHash(),a.lastLocation=String(location),window.addEventListener){var b=window.addEventListener;window.addEventListener=function(c,d){return"hashchange"!==c?b.apply(window,arguments):void a.listeners.funcs.push(d)}}if(window.attachEvent){var c=window.attachEvent;window.attachEvent=function(b,d){return"onhashchange"!==b?c.apply(window,arguments):void a.listeners.funcs.push(d)}}a.setTimeout()},lastHash:null,lastLocation:null,pollerRate:50,getHash:function(){return location.hash.slice(1)},setTimeout:function(){window.setTimeout(a.pollerInterval,a.pollerRate)},createEventObject:function(a,b){return new window.HashChangeEvent(a,b)},pollerInterval:function(){var b=a.getHash();if(b!==a.lastHash){var c=a.listeners.funcs.slice(0);"function"==typeof window.onhashchange&&c.push(window.onhashchange);for(var d=0,e=c.length;e>d;d++){a.createEventObject({oldURL:a.lastLocation,newURL:String(location)})}a.lastHash=a.getHash(),a.lastLocation=String(location)}a.setTimeout()}};a.init()}();