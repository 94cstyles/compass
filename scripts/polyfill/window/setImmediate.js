// https://github.com/YuzuJS/setImmediate
!function(a,b){"use strict";function h(a){return d[c]=i.apply(b,a),c++}function i(a){var c=[].slice.call(arguments,1);return function(){"function"==typeof a?a.apply(b,c):new Function(""+a)()}}function j(a){if(e)setTimeout(i(j,a),0);else{var b=d[a];if(b){e=!0;try{b()}finally{k(a),e=!1}}}}function k(a){delete d[a]}function l(){g=function(){var a=h(arguments);return process.nextTick(i(j,a)),a}}function m(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function n(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&j(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),g=function(){var c=h(arguments);return a.postMessage(b+c,"*"),c}}function o(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;j(b)},g=function(){var b=h(arguments);return a.port2.postMessage(b),b}}function p(){var a=f.documentElement;g=function(){var b=h(arguments),c=f.createElement("script");return c.onreadystatechange=function(){j(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c),b}}function q(){g=function(){var a=h(arguments);return setTimeout(i(j,a),0),a}}if(!a.setImmediate){var g,c=1,d={},e=!1,f=a.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(a);r=r&&r.setTimeout?r:a,"[object process]"==={}.toString.call(a.process)?l():m()?n():a.MessageChannel?o():f&&"onreadystatechange"in f.createElement("script")?p():q(),r.setImmediate=g,r.clearImmediate=k}}("undefined"==typeof self?"undefined"==typeof global?this:global:self);